{{ define "text_field" }}
<template id="{{ . }}">
    <div
        x-data="{
            data: initField('{{ . }}'),
            remove() {
                removeElement($el);
                removeFieldData(this.data.id);
            },
        }"
        :id="data.id"
        form-field="{{ . }}"
        class="p-3 rounded"
    >
        <div class="flex items-center justify-between mb-1 text-xs text-neutral-500 dark:text-white/60">
            <div class="font-mono flex gap-3">
                <span class="font-bold italic cursor-default select-none">
                    {{ if eq . "text" }} Text Field {{ else if eq . "number" }} Number Field {{ else if eq . "select" }}
                    Select Field {{ else if eq . "datetime" }} Date Field {{ end }}
                </span>
                <span
                    x-show="data.hidden || data.readonly"
                    x-text="data.hidden ? '[Hidden]' : data.readonly ? '[Readonly]' : ''"
                    class="text-neutral-400 dark:text-white/40"
                ></span>
            </div>
            {{ template "field_icons" }}
        </div>
        <div
            :class="{ 'opacity-50': data.hidden, 'grid-cols-[3fr_4fr]': data.layout === 'inline'  }"
            class="grid gap-1 w-full items-center"
        >
            <div class="flex gap-1 items-center">
                <label x-text="data.label" :for="data.id" class="font-medium select-none"></label>
                <span x-show="data.required" class="leading-4 font-semibold text-rose-500"> * </span>
            </div>
            {{ if eq . "text" }} {{ template "text_input" }} {{ else if eq . "number" }} {{ template "number_input" }}
            {{ else if eq . "select" }} {{ template "select_input" }} {{ else if eq . "datetime" }} {{ template
            "date_field" }} {{ end }}
        </div>
    </div>
</template>
{{ end }} {{ define "text_input" }}
<input
    :id="data.id"
    :value="data.defaultValue ? data.defaultValue : ''"
    :placeholder="data.placeholder"
    :readonly="data.readonly || data.hidden"
    @change="$el.value = data.defaultValue ? data.defaultValue : ''"
    type="text"
/>
{{ end }} {{ define "number_input" }}
<input
    :id="data.id"
    :value="data.defaultValue ? data.defaultValue : ''"
    :placeholder="data.placeholder"
    :readonly="data.readonly || data.hidden"
    @change="$el.value = data.defaultValue ? data.defaultValue : ''"
    type="number"
/>
{{ end }} {{ define "select_input" }}
<select
    :id="data.id"
    :readonly="data.readonly || data.hidden"
    @change="$el.value = data.defaultValue ? data.defaultValue : ''"
></select>
{{ end }}

<!-- { define "date_input" }
<div class="relative">
    <button class="absolute inset-y-0 right-0 flex items-center px-2.5 text-[#999]">
        <svg
            viewBox="-1 -1 24 24"
            class="w-5 min-w-5 fill-current"
        >
            <path
                d="m4 4h3l0-1c0-1 1-1 1-1 1 0 1 1 1 1l0 1 4 0 0-1c0-1 1-1 1-1 1 0 1 1 1 1l0 1 3 0c1 0 2 1 2 2l0 12c0 1-1 2-2 2l-14 0c-1 0-2-1-2-2l0-12c0-1 1-2 2-2m1 5 12 0c1 0 1-1 1-1l0-1c0 0 0-1-1-1l-12 0c-1 0-1 1-1 1l0 1c0 0 0 1 1 1m0 9 12 0c1 0 1-1 1-1l0-5c0 0 0-1-1-1l-12 0c-1 0-1 1-1 1l0 5c0 0 0 1 1 1"
            />
        </svg>
    </button>
    <input
        :id="data.id"
        :value="data.defaultValue ? data.defaultValue : ''"
        :placeholder="data.placeholder"
        :readonly="data.readonly || data.hidden"
        @change="$el.value = data.defaultValue ? data.defaultValue : ''"
        type="text"
        class="w-full pr-10"
    />
    <div class="absolute top-[calc(100%-0.5rem)] right-0">
        <div class="flex p-4">
            <div>
                <span>March</span>
                <button>
                    <svg
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                    >
                        <path d="M7 10l5 5 5-5z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>
{ end } -->
